@{
	ViewBag.Title = "Checkout";
}
@*<style>
		.car-image {
			height: 50px;
			width: 50px;
			box-shadow: 1px 1px 5px #00000029;
			display: inline-block;
			border-radius: 5px;
			background-position: 50% 50%;
			background-size: cover;
		}

		.car-details {
			display: inline-block;
			position: relative;
			top: -5px;
		}

		.out-of-stock {
			background: #ffc5c5fc;
		}

			.out-of-stock td:last-child:after {
				content: 'Out of Stock';
				top: 5px;
				position: relative;
				display: block;
				background: black;
				color: #fff;
				border-radius: 10px;
			}
	</style>*@
<link href="~/Assets/css/web/home/checkout.css" rel="stylesheet" />
<link href="https://unpkg.com/gijgo@1.9.13/css/gijgo.min.css" rel="stylesheet" type="text/css" />


<!--Body Content-->
<div id="page-content">
	<!--Page Title-->
	<div class="page section-header text-center">
		<div class="page-title">
			<div class="wrapper"><h1 class="page-width">Checkout</h1></div>
			<!--Breadcrumb-->
			<div class="bredcrumbWrap m-0">
				<div class="container-fluid breadcrumbs">
					<a href="/" title="Back to the home page">Home</a>
					<span aria-hidden="true">›</span>
					<span>Checkout</span>
				</div>
			</div>
			<!--End Breadcrumb-->
		</div>
	</div>
	<!--End Page Title-->
	<div class="container" id="checkout-container" style="min-height: 500px;">
		<div class="row">
			<div class="col-xl-6 col-lg-6 col-md-6 col-sm-12 mb-3">
			</div>
			<div class="col-xl-6 col-lg-6 col-md-6 col-sm-12 mb-3">
			</div>
		</div>
		
		<div class="row billing-fields">
			<div class="col-xl-6 col-lg-6 col-md-6 col-sm-12 sm-margin-30px-bottom">
				<div class="create-ac-content bg-light-gray padding-20px-all">
					@*<div class="customer-box returning-customer guest-fields">
						<h3>
							<i class="icon anm anm-user-al"></i> Returning customer? <a href="#customer-login" id="customer" class="text-white text-decoration-underline" data-toggle="collapse">Click here to login</a>
						</h3>
						<div id="customer-login" class="collapse customer-content">
							<div class="customer-info">
								<p class="coupon-text">If you have shopped with us before, please enter your details in the boxes below. If you are a new customer, please proceed to the Billing &amp; Shipping section.</p>
								<form>
									<div class="row">
										<div class="form-group col-xl-6 col-lg-6 col-md-6 col-sm-12">
											<label for="exampleInputEmail1">
												Email address
												<span class="required-f">*</span>
											</label>
											<input type="email" class="no-margin" id="exampleInputEmail1">
										</div>
										<div class="form-group col-xl-6 col-lg-6 col-md-6 col-sm-12">
											<label for="exampleInputPassword1">
												Password
												<span class="required-f">*</span>
											</label>
											<input type="password" id="exampleInputPassword1">
										</div>
									</div>
									<div class="row">
										<div class="col-md-12">
											<div class="form-check width-100 margin-20px-bottom">
												<label class="form-check-label">
													<input type="checkbox" class="form-check-input" value=""> Remember me!
												</label>
												<a href="#" class="float-right">Forgot your password?</a>
											</div>
											<button type="submit" class="btn btn-primary mt-3">Submit</button>
										</div>
									</div>
								</form>
							</div>
						</div>
						<hr />
					</div>*@
					<form id="OrderForm">
						<fieldset class="guest-fields">
							<h2 class="login-title mb-3">Billing details</h2>
							<div class="row">
								<div class="form-group col-md-6 col-lg-6 col-xl-6 required">
									<label for="input-firstname">
										First Name
										<span class="required-f">*</span>
									</label>
									<input name="firstname" value="" id="FirstName" type="text" class="form-control" required>
								</div>
								<div class="form-group col-md-6 col-lg-6 col-xl-6 required">
									<label for="input-lastname">
										Last Name
										<span class="required-f">*</span>
									</label>
									<input name="lastname" value="" id="LastName" type="text" class="form-control" required>
								</div>
							</div>
							<div class="row">
								<div class="form-group col-md-6 col-lg-6 col-xl-6 required">
									<label for="input-email">
										E-Mail
										<span class="required-f">*</span>
									</label>
									<input name="email" value="" id="Email" type="email" class="form-control" required>
								</div>
								<div class="form-group col-md-6 col-lg-6 col-xl-6 required">
									<label for="input-telephone">
										Telephone
										<span class="required-f">*</span>
									</label>
									<input name="telephone" value="" id="Telephone" type="tel" class="form-control" required>
								</div>
							</div>
						</fieldset>
						<fieldset>
							<h2 class="login-title mb-3">Shipping details</h2>

							<div class="border-top border-width-3 border-color-1 pt-3 mb-3" id="ShippingAddress">
								<div id="basicsAccordionShippingAddressNewAddress">
									<div class="border-bottom border-color-1 border-dotted-bottom">
										<div class="p-3" id="basicsHeadingNewAddress">
											<div class="custom-control custom-radio">
												<input type="radio" class="custom-control-input" id="rdoNewAddress" name="rdoShippingAddress">
												<label class="custom-control-label form-label" for="rdoNewAddress" data-toggle="collapse" data-target="#basicsCollapseNewAddress" aria-expanded="false" aria-controls="basicsCollapseNewAddress">
													Ship to different Place
												</label>
											</div>
										</div>
										<div id="basicsCollapseNewAddress" class="collapse border-top border-color-1 border-dotted-top bg-dark-lighter" aria-labelledby="basicsHeadingNewAddress" data-parent="#basicsAccordionShippingAddressNewAddress">
											<div class="p-4">
												<div class="row">
													<div class="col-md-6 col-lg-6 col-xl-6">
														<div class="row">
															<div class="form-group col-md-12 col-lg-12 col-xl-12 required">
																<label for="input-country">
																	Country
																	<span class="required-f">*</span>
																</label>
																@Html.DropDownList("CountryID", null, "Select Country", htmlAttributes: new { @class = "form-control", required = "required" })
															</div>
															<div class="form-group col-md-12 col-lg-12 col-xl-12 required">
																<label for="input-zone">
																	Region / State
																	<span class="required-f">*</span>
																</label>
																@Html.DropDownList("CityID", null, "Select City", htmlAttributes: new { @class = "form-control", required = "required" })
															</div>
															<div class="form-group col-md-12 col-lg-12 col-xl-12 required">
																<label for="input-zone">
																	Area
																	<span class="required-f">*</span>
																</label>
																@Html.DropDownList("AreaID", null, "Select Area", htmlAttributes: new { @class = "form-control", required = "required" })
															</div>
														</div>
													</div>
													<div class="col-md-6 col-lg-6 col-xl-6">

														<div class="form-group col-md-12 col-lg-12 col-xl-12 required">
															<label for="input-address-1">
																Address
																<span class="required-f">*</span>
															</label>
															<textarea name="Address" id="Address" class="form-control" placeholder="House # XX-999, Street" rows="7" required="required">@ViewBag.Address</textarea>
														</div>

														<button style="display:none" class="btn btn-block w-100 mt-1" value="Calculate Shipping Cost" type="button" id="btnCalculateShippingCost">Calculate Shipping Cost</button>
													</div>
												</div>
												<!-- End Accordion -->
											</div>
										</div>
									</div>
								</div>
							</div>
							@*<div class="row">
											<div class="col-md-6 col-lg-6 col-xl-6">
												<div class="row">

								<div class="form-group col-md-12 col-lg-12 col-xl-12 required">
									<label for="input-country">
										Country
										<span class="required-f">*</span>
									</label>
									@Html.DropDownList("CountryID", null, "Select Country", htmlAttributes: new { @class = "form-control", required = "required" })
								</div>
								<div class="form-group col-md-12 col-lg-12 col-xl-12 required">
									<label for="input-zone">
										Region / State
										<span class="required-f">*</span>
									</label>
									@Html.DropDownList("CityID", null, "Select City", htmlAttributes: new { @class = "form-control", required = "required" })
								</div>
								<div class="form-group col-md-12 col-lg-12 col-xl-12 required">
									<label for="input-zone">
										Area
										<span class="required-f">*</span>
									</label>
									@Html.DropDownList("AreaID", null, "Select Area", htmlAttributes: new { @class = "form-control", required = "required" })
								</div>
							</div>
											</div>
											<div class="col-md-6 col-lg-6 col-xl-6">
												<div class="form-group col-md-12 col-lg-12 col-xl-12 required">
													<label for="input-address-1">
														Contact
														<span class="required-f">*</span>
													</label>
													<input name="Contact" value="@ViewBag.Contact" id="Contact" class="form-control" required placeholder="Enter contact here...">
												</div>
												<div class="form-group col-md-12 col-lg-12 col-xl-12 required">
													<label for="input-address-1">
														Address
														<span class="required-f">*</span>
													</label>
													<textarea name="Address" id="Address" class="form-control" placeholder="House # XX-999, Street" rows="5" required="required">@ViewBag.Address</textarea>
												</div>
												<button class="btn btn-block w-100 mt-1" value="Calculate Shipping Cost" type="button" id="btnCalculateShippingCost">Calculate Shipping Cost</button>
											</div>
										</div>*@
						</fieldset>
						@*<fieldset class="guest-fields">
							<div class="row">
								<div class="form-group form-check col-md-12 col-lg-12 col-xl-12">
									<label class="form-check-label padding-15px-left">
										<input type="checkbox" class="form-check-input" value="" name="CreateAccount" id="CreateAccount"><strong>Create an account ?</strong>
									</label>
								</div>
							</div>
						</fieldset>*@
						<fieldset>
							<div class="row">
								<div class="form-group col-md-12 col-lg-12 col-xl-12 required">
									<label for="DeliveryDate">Delivery Date</label>
									<input inputmode="numeric" id="DeliveryDate" type="text" name="DeliveryDate" value="" class="form-control" placeholder="hh:mm mm/dd/yyyy" />
								</div>
								<div class="form-group col-md-12 col-lg-12 col-xl-12 required">
									<label for="input-address-1">
										Contact
										<span class="required-f">*</span>
									</label>
									<input name="Contact" value="@ViewBag.Contact" id="Contact" class="form-control" required placeholder="Enter contact here...">
								</div>
								<div class="form-group col-md-12 col-lg-12 col-xl-12">
									<label for="input-company">
										Order Notes
										<span class="required-f">*</span>
									</label>
									<textarea id="Notes" name="Notes" class="form-control resize-both" rows="3"></textarea>
								</div>
							</div>
						</fieldset>
					</form>
				</div>
			</div>
			<div class="col-xl-6 col-lg-6 col-md-6 col-sm-12">
				<div class="your-order-payment">
					<div class="your-order">
						<h2 class="order-title mb-4">Your Order</h2>
						<div class="table-responsive-sm order-table">
							<table class="bg-white table table-bordered table-hover text-center">
								<thead>
									<tr>
										<th class="text-left">Car</th>
										<th>Price</th>
										<th>Qty</th>
										<th>Subtotal</th>
									</tr>
								</thead>
								<tbody id="CheckoutCars"></tbody>
								<tfoot class="font-weight-600">
									<tr>
										<td colspan="3" class="text-right">
											<span id="subtotal-message"></span>
										</td>
										<td id="Subtotal">AED 0.0</td>
									</tr>
									<tr>
										<td colspan="3" class="text-right">Discount </td>
										<td id="Discount">-</td>
									</tr>
									<tr>
										<td colspan="3" class="text-right">Shipping </td>
										<td id="Shipping">-</td>
									</tr>
									<tr>
										<td colspan="3" class="text-right">Tax (<strong id="TaxPercentage">@ViewBag.TaxPercentage</strong> %)</td>
										<td id="TaxAmount">AED 0.0</td>
									</tr>
									<tr class="customer-fields">
										<td colspan="3" class="text-right">Total </td>
										<td id="Amount">AED 0.0</td>
									</tr>
									<tr class="customer-fields redeem-amount-container">
										<td colspan="3" class="text-right">Redeem Amount</td>
										<td id="RedeemAmount">-</td>
									</tr>
									<tr>
										<td colspan="3" class="text-right"><b>Grand Total</b></td>
										<td id="TotalAmount">AED 0.0</td>
									</tr>
								</tfoot>
							</table>
						</div>
					</div>
					<hr />
					@if (Session["CustomerID"] != null)
					{
						<div class="row redeem-amount-container">
							<div class="col-md-12">
								<div class="float-left mr-1">
									<i class="fa fa-gift fa-3x" aria-hidden="true"></i>
								</div>
								<div class="" style="padding: 10px 10px;">
									<strong id="Points"> @ViewBag.Points Points </strong> <span id="RewardAmount">
										(AED @(ViewBag.Points * ViewBag.PRRatio)
										<i class="fa fa-credit-card-alt"></i> )
									</span>
									<br />
									@if (ViewBag.Points >= ViewBag.PointsLimit)
									{
										<input name="RedeemAmount" placeholder="Redeem Amount" type="number" min="1" class="form-control" max="@(ViewBag.Points*ViewBag.PRRatio)" style="height: 30px;width: 200px;font-size: .75rem;" />
									}
									else
									{
										<span class="text-info">Earn @(ViewBag.PointsLimit - ViewBag.Points) more Points to avail Rewards </span>
									}
								</div>
							</div>
						</div>
						<hr />
					}
					<div class="customer-box customer-coupon">
						<h3 class="font-15 xs-font-13">
							<i class="icon anm anm-gift-l"></i> Have a coupon? <a href="#have-coupon" class="text-white text-decoration-underline" data-toggle="collapse">Click here to enter your code</a>
						</h3>
						<div id="have-coupon" class="collapse coupon-checkout-content">
							<div class="discount-coupon">
								<div id="coupon" class="coupon-dec tab-pane active">
									<p class="margin-10px-bottom">Enter your coupon code if you have one.</p>
									<label class="required get" for="coupon-code">
										<span class="required-f">*</span> Coupon
									</label>
									<input id="coupon-code" required="" type="text" class="form-control mb-1" oninput="this.value = this.value.toUpperCase();">
									<div id="coupon-message"></div>
									<button class="coupon-btn btn" type="button" id="btnApplyCoupon">Apply Coupon</button>
									<button class="coupon-btn btn btn--secondary" type="button" id="btnCancelCoupon" style="display:none">Cancel</button>

								</div>
							</div>
						</div>
					</div>
					<hr />
					<div class="your-payment">
						<h2 class="payment-title mb-3">payment method</h2>
						<div class="payment-method">
							<div class="payment-accordion">
								<div id="accordion" class="payment-section">
									<div class="card mb-2">
										<div class="card-header">
											<a class="card-link" data-toggle="collapse" href="#collapseOne">Pay on Delivery </a>
										</div>
										<div id="collapseOne" class="collapse" data-parent="#accordion">
											<div class="card-body">
												<p class="no-margin font-15">Make your payment via cash when you recieve your order .</p>
											</div>
										</div>
									</div>
								</div>
							</div>
							<div class="order-button-payment">
								<fieldset>
									<div class="row">
										<div class="col-md-12 form-group text-right">
											<label class="form-check-label">
												<input type="checkbox" class="form-check-input" value="" id="ChkTerms">
												<strong>I accept the <a href="/terms-and-conditions" target="_blank">Terms & Conditions</a></strong>
											</label>
										</div>
									</div>
									<button class="btn float-right" value="Place order" type="submit" id="btnOrder" form="OrderForm" disabled>Place order</button>
								</fieldset>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
<!--End Body Content-->

@section IndexScript {
    @if (Session["CustomerID"] != null)
    {
        <script>
            $(".guest-fields").remove();
        </script>
    }
    else
    {
        <script>
            $(".customer-fields").remove();
        </script>
    }
    <script src="https://unpkg.com/gijgo@1.9.13/js/gijgo.min.js" type="text/javascript"></script>
    <script src="@Url.ContentVersioned("~/Assets/js/web/home/checkout.js")"></script>
    <script>
        $('#DeliveryDate').datetimepicker({
            uiLibrary: 'bootstrap4'
        });
    </script>

	@*<script>
			$(document).ready(function () {
				$('.gj-icon').closest('button').remove();
			});
		</script>*@
}